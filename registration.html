<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Registration Page	</title>
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href = "styles.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>



</head>
<body>
<div class = "container">
<div class = "card">
<form>
<div class = "form-group">
<label>Name :</label>
<input class = "form-control" type = "text" id ="name" name = "name">  
</div>
<div class = "form-group">
<label>Email :</label>
<input class = "form-control" type = "email" id ="email" name = "email">  
</div>
<div class = "form-group">
<label>Password:</label>
<input class = "form-control" type = "password" id = "password" name = "password">  
</div>
<div class = "text-center">
<button type = "button"  id = "reg-btn" class = "btn btn-primary" onclick = "regUser()">Register</button>

</div>
</form>

</div>


</div>
</body>
<script>
function regUser()
{   
	/* debugger; */
	let name,email,password;
	name = document.getElementById("name").value;
	email = document.getElementById("email").value;
	password = document.getElementById("password").value;
	
	localStorage.setItem("name",name);
	localStorage.setItem("email",email);
	localStorage.setItem("password",password);
	/* console.log(localStorage.getItem("name"))
	console.log(localStorage.getItem("email"))
	console.log(localStorage.getItem("password")) */
	let user_records = new Array();
	
	user_records = JSON.parse(localStorage.getItem("users"))?JSON.parse(localStorage.getItem("users")):[]
	
	if (user_records.some(
			(v)=>
			{
				return v.email==email
			}))
		{
		alert("Your Account already exists!!! Go to login!!!")
		window.location.href = "login.html";
		}
	else
		{
		user_records.push({
				"name": name,
				"email": email,
				"password": password}) 
				alert("Registration Successful! Go to Login Page")
				window.location.href = "login.html";
		}
		 
	localStorage.setItem("users",JSON.stringify(user_records))



}
</script>
</html>